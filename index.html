<!doctype html>
<html>
    <head>
        <title>Web Audio API</title>
    </head>
    <body>
        <h1>Welcome to the Web Audio API</h1>
        <button className="rick-ross-sound">Ross Button</button>
        <script>
            let request = new XMLHttpRequest();

            request.open('GET', './assets/rick-ross-gruntmp3.mp3', true);
            request.responseType = 'arraybuffer';

            request.onload = () => {
                let undecodedAudio = request.response;
                context.decodeAudioData(undecodedAudio, function (buffer) {
                // The contents of our mp3 is now an AudioBuffer
                var sourceBuffer = context.createBufferSource();

              // Tell the AudioBufferSourceNode to use this AudioBuffer.
              sourceBuffer.buffer = buffer;
            });
            };

            audio_file.onchange = function(){
              var files = this.files;
              var file = URL.createObjectURL(files[0]);
                audio_player.src = file;
                audio_player.play();
              };

            request.send();

        </script>
    </body>
</html>
